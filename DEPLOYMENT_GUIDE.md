# Инструкция по развертыванию на BotHost.ru

## Подготовка проекта

1. Убедитесь, что у вас есть:
   - Токен Telegram-бота (получить у @BotFather)
   - Уникальный пароль для админ-панели

2. Сгенерируйте хеш пароля администратора:
   ```bash
   python create_admin_password.py your_password
   ```

3. Создайте файл `.env` с переменными окружения:
   ```
   BOT_TOKEN=ваш_токен_бота
   SECRET_KEY=любой_секретный_ключ
   ADMIN_USERNAME=admin
   ADMIN_PASSWORD_HASH=сгенерированный_хеш_пароля
   ```

## Загрузка на BotHost.ru

1. Зарегистрируйтесь на [BotHost.ru](https://bothost.ru)

2. Создайте новый проект Python

3. Загрузите все файлы из этого репозитория:
   - `main.py` (основной файл приложения)
   - `templates/` (папка с HTML-шаблонами)
   - `requirements.txt` (зависимости)
   - `.env` (файл с переменными окружения)
   - `create_admin_password.py` (для генерации хеша пароля)

4. В настройках проекта укажите:
   - Точка входа: `main.py`
   - Использовать переменную PORT из окружения (реализовано в коде)

5. Установите переменные окружения в интерфейсе BotHost.ru:
   - `BOT_TOKEN`: токен вашего Telegram-бота
   - `SECRET_KEY`: секретный ключ для Flask
   - `ADMIN_USERNAME`: имя пользователя для админ-панели
   - `ADMIN_PASSWORD_HASH`: хеш пароля администратора

## Запуск и использование

1. После запуска приложение будет одновременно работать как:
   - Telegram-бот (обрабатывает команды и заявки)
   - Веб-панель (по адресу вашего проекта на BotHost.ru)

2. Админ-панель доступна по пути `/` (корень сайта):
   - Логин: admin (или как вы указали в переменной)
   - Пароль: тот, для которого вы генерировали хеш

3. Функционал:
   - Подача заявок через Telegram-бота
   - Просмотр и управление заявками в админ-панели
   - Изменение статусов заявок
   - Отправка уведомлений пользователям о статусах
   - Экспорт заявок в CSV

## Возможные проблемы и решения

1. **Бот не отвечает**: проверьте, что токен бота указан правильно

2. **Не могу войти в админ-панель**: убедитесь, что хеш пароля сгенерирован правильно

3. **Ошибки базы данных**: приложение использует SQLite, которая работает в памяти и сохраняет данные между перезапусками

4. **Порт не используется**: приложение автоматически использует переменную PORT из окружения

## Безопасность

- Не храните пароли в открытом виде
- Используйте сложные пароли
- Регулярно меняйте токены и ключи
- Не делитесь файлом .env

## Обновление

Для обновления приложения:
1. Скачайте обновленный код
2. Загрузите новые файлы на BotHost.ru
3. Перезапустите приложение через панель управления