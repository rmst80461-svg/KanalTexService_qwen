# üìö –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ë–æ—Ç–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ **BotHost**.

---

## ‚ú® –î–≤–∞ –Ω–æ–≤—ã—Ö —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ñ—ë—Å—Ç–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ `.env` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- `main.py` —Ç–µ–ø–µ—Ä—å **–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ** –∏—â–µ—Ç –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª `.env` –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç–æ–∫–µ–Ω –±–æ—Ç–∞, ID –∞–¥–º–∏–Ω–æ–≤, –ø–∞—Ä–æ–ª–∏) –±—É–¥—É—Ç –ø–æ–¥—Ö–≤–∞—á–µ–Ω—ã **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- **–ü–æ—Ä—è–¥–æ–∫ –ø–æ–∏—Å–∫–∞:**
  1. `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–≥–¥–µ `main.py`)
  2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
  3. `bot_token.txt` (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:**
```
üìÑ Loading .env from project root: /home/bothost/KanalTexService_qwen/.env
‚úì BOT_TOKEN loaded (starts with: 123456789:AB...)
```

---

### 2. –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤ `.env` —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞:
  ```
  ADMIN_IDS=12345, 67890, 112233
  ```
- –ë–æ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç** –≤—Å–µ ID –≤ —Å–ø–∏—Å–∫–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –∏–º –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ID –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç—ã–º–∏, —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ –∏–ª–∏ –±–µ–∑

**–ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:**
```env
# –° –ø—Ä–æ–±–µ–ª–∞–º–∏
ADMIN_IDS=12345, 67890, 112233

# –ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤
ADMIN_IDS=12345,67890,112233

# –°–º–µ—à–∞–Ω–Ω—ã–µ
ADMIN_IDS=12345,67890, 112233

# –û–¥–∏–Ω –∞–¥–º–∏–Ω
ADMIN_IDS=12345

# –ü—É—Å—Ç–æ (—Ç–æ–ª—å–∫–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
ADMIN_IDS=
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:**
```
‚úì Loaded 3 Telegram admin(s): [12345, 67890, 112233]
```

---

## üöÄ –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ BotHost

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ `.env` —Ñ–∞–π–ª (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   cd /your/project/root
   nano .env
   ```

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```env
   BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
   ADMIN_IDS=12345, 67890, 112233
   ADMIN_USERNAME=admin
   ADMIN_PASSWORD_HASH=$2b$12$R9h/cIPz0gi.URNNX3kh2OPST9/PgBkqquzi.Ee3XEALtW5RhHKNa
   ENVIRONMENT=production
   ```

3. **Git push –Ω–∞ BotHost:**
   ```bash
   git add .env
   git commit -m "Add configuration"
   git push origin main
   ```

4. **–í –ø–∞–Ω–µ–ª–∏ BotHost:**
   - –ù–∞–∂–º–∏—Ç–µ "Restart" –∏–ª–∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ `.env`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Environment Variables –Ω–∞ BotHost

1. **–í –ø–∞–Ω–µ–ª–∏ BotHost ‚Üí Settings ‚Üí Environment Variables:**
   - `BOT_TOKEN` = –≤–∞—à —Ç–æ–∫–µ–Ω
   - `ADMIN_IDS` = `12345, 67890`
   - `ADMIN_PASSWORD_HASH` = –≤–∞—à —Ö–µ—à

2. **–ù–∞–∂–º–∏—Ç–µ Save –∏ Restart**

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ï—Å–ª–∏ –æ–±–∞ —Å–ø–æ—Å–æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, —Ç–æ `.env` —Ñ–∞–π–ª –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ Environment Variables.

---

## üîç –ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ–π Telegram ID

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Telegram**
2. **–ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞:** `@userinfobot`
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**
4. **–û–Ω –≤–µ—Ä–Ω–µ—Ç –≤–∞—à ID:**
   ```
   User ID: 123456789
   ```
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç ID –≤ `ADMIN_IDS`**

---

## üìã –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å BOT_TOKEN

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Telegram**
2. **–ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞:** `@BotFather`
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ:** `/mybots`
4. **–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –±–æ—Ç ‚Üí API Token**
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (–≤–∏–¥–∞: `123456789:ABCdef...`)
6. **–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:**
   ```env
   BOT_TOKEN=123456789:ABCdef...
   ```

---

## üîê –ö–∞–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å ADMIN_PASSWORD_HASH

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:**
   ```bash
   python create_admin_password.py
   ```

2. **–í–≤–µ–¥–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–π –ø–∞—Ä–æ–ª—å** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `MySecurePass123`)

3. **–°–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç —Ö–µ—à:**
   ```
   Hash: $2b$12$XXXXXX...
   ```

4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ö–µ—à –≤ `.env`:**
   ```env
   ADMIN_PASSWORD_HASH=$2b$12$XXXXXX...
   ```

---

## üìù –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä `.env`

```env
# ========== TELEGRAM BOT ==========
BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# ========== TELEGRAM ADMINS ==========
# –ù–µ—Å–∫–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–æ–≤
ADMIN_IDS=12345, 67890, 112233

# –ò–ª–∏ –æ–¥–∏–Ω –∞–¥–º–∏–Ω
# ADMIN_IDS=12345

# –ò–ª–∏ –±–µ–∑ –∞–¥–º–∏–Ω–æ–≤ (—Ç–æ–ª—å–∫–æ –≤–µ–±-–ø–∞–Ω–µ–ª—å)
# ADMIN_IDS=

# ========== WEB ADMIN PANEL ==========
ADMIN_USERNAME=admin
ADMIN_PASSWORD_HASH=$2b$12$R9h/cIPz0gi.URNNX3kh2OPST9/PgBkqquzi.Ee3XEALtW5RhHKNa

# ========== FLASK ==========
FLASK_SECRET_KEY=super-secret-key-change-in-production

# ========== DATABASE ==========
DATABASE_URL=requests.db

# ========== SERVER ==========
PORT=5000
ENVIRONMENT=production
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
============================================================
ü§ñ –ö–∞–Ω–∞–ª–¢–µ—Ö–°–µ—Ä–≤–∏—Å - Telegram Bot & Admin Panel
============================================================

[0/5] Loading configuration from .env...
üìÑ Loading .env from project root: /root/project/.env

[1/5] Loading BOT_TOKEN...
‚úì BOT_TOKEN is valid (123456789:AB...)

[2/5] Initializing database...
‚úì Database initialized successfully

[3/5] Initializing Telegram bot...
‚úì Loaded 3 Telegram admin(s): [12345, 67890, 112233]
‚úì Telegram bot initialized successfully

[4/5] Creating Flask web application...
‚úì Flask app created successfully

[5/5] Checking port configuration...
‚úì Port configured: 5000

============================================================
üöÄ Ready to start!
============================================================
```

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫:

**–ö—Ä–∞—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ** ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- ‚úì `.env` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–≥–¥–µ `main.py`)
- ‚úì `BOT_TOKEN` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤
- ‚úì `ADMIN_IDS` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞–ª–∏–¥–Ω—ã–µ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
- ‚úì –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ UTF-8

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω–æ–≤ –≤ –∫–æ–¥–µ

**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ –≤–∞—à –∫–æ–¥:**
```python
from app.config import ADMIN_IDS

def is_admin(user_id: int) -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º"""
    return user_id in ADMIN_IDS

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
if is_admin(message.from_user.id):
    # –ö–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º
    await send_admin_panel(message)
```

---

## üÜò –ü–æ–∏—Å–∫ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|----------|
| `.env` –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ (–≥–¥–µ `main.py`) |
| `ADMIN_IDS` –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –∞–¥–º–∏–Ω–æ–≤ | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é: `12345, 67890` |
| –ê–¥–º–∏–Ω—ã –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å ID —á–µ—Ä–µ–∑ `@userinfobot` |
| `BOT_TOKEN` invalid | –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π —Ç–æ–∫–µ–Ω –æ—Ç `@BotFather` –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ |
| –ù–∞ BotHost –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | Git push `.env`, –∑–∞—Ç–µ–º Restart –≤ –ø–∞–Ω–µ–ª–∏ BotHost |

---

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:** `main.py`, `app/config/__init__.py`
- **–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** `.env.example`
- **–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è:** `create_admin_password.py`

---

**–í–µ—Ä—Å–∏—è:** 2.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –Ø–Ω–≤–∞—Ä—å 2026
