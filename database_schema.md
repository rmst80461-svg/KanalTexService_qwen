# Структура базы данных для системы управления услугами по откачке септиков

## Таблица: clients (Клиенты)
- id (INTEGER PRIMARY KEY AUTOINCREMENT)
- telegram_id (INTEGER UNIQUE) - ID пользователя в Telegram
- phone (TEXT) - телефон клиента
- name (TEXT) - имя клиента
- address (TEXT) - адрес клиента
- registration_date (DATETIME) - дата регистрации
- is_returning (BOOLEAN) - является ли постоянным клиентом
- total_orders (INTEGER DEFAULT 0) - общее количество заказов
- last_order_date (DATETIME) - дата последнего заказа

## Таблица: services (Услуги)
- id (INTEGER PRIMARY KEY AUTOINCREMENT)
- name (TEXT NOT NULL) - название услуги
- description (TEXT) - описание услуги
- price_min (REAL) - минимальная цена
- price_max (REAL) - максимальная цена
- category (TEXT) - категория услуги (основная/дополнительная)

## Таблица: orders (Заказы)
- id (INTEGER PRIMARY KEY AUTOINCREMENT)
- client_id (INTEGER REFERENCES clients(id)) - ссылка на клиента
- service_id (INTEGER REFERENCES services(id)) - ссылка на услугу
- order_date (DATETIME) - дата создания заказа
- address (TEXT) - адрес выполнения услуги
- contact_phone (TEXT) - контактный телефон
- status (TEXT) - статус заказа (новый, в работе, выполнено, отменено)
- priority (TEXT) - приоритет (обычный, аварийный)
- executor_id (INTEGER REFERENCES executors(id)) - исполнитель
- scheduled_date (DATETIME) - запланированная дата выполнения
- completion_date (DATETIME) - дата завершения
- comment (TEXT) - комментарий клиента

## Таблица: executors (Исполнители)
- id (INTEGER PRIMARY KEY AUTOINCREMENT)
- name (TEXT NOT NULL) - имя исполнителя
- phone (TEXT) - телефон
- vehicle_info (TEXT) - информация о технике
- current_status (TEXT) - текущий статус (свободен, занят, вне сети)
- rating (REAL) - рейтинг исполнителя

## Таблица: order_history (История изменений статуса заказа)
- id (INTEGER PRIMARY KEY AUTOINCREMENT)
- order_id (INTEGER REFERENCES orders(id)) - ссылка на заказ
- old_status (TEXT) - предыдущий статус
- new_status (TEXT) - новый статус
- changed_by (TEXT) - кто изменил (админ/бот/исполнитель)
- change_date (DATETIME) - дата изменения

## Инициализация начальных данных

### Услуги:
1. "Откачка выгребных ям и септиков"
   - "Полная очистка резервуаров от ила и отходов. Объем: от 1 м³ до 20 м³."
   - Категория: "основная"
   - Цена: 1500-8000

2. "Очистка канализационных систем"
   - "Прочистка засоров в трубах (механическая и гидродинамическая)."
   - Категория: "основная"
   - Цена: 2000-5000

3. "Вызов илоососной машины"
   - "Срочный выезд техники для аварийных ситуаций (затопление, переполнение септика)."
   - Категория: "основная"
   - Цена: 2000-3000

4. "Утилизация ассенизационных отходов"
   - "Вывоз и легальная утилизация отходов на специализированных полигонах."
   - Категория: "основная"
   - Цена: 1000-2000

5. "Профилактическое обслуживание"
   - "Регулярная очистка септиков по договору (ежеквартально/раз в полгода)."
   - Категория: "основная"
   - Цена: 3000-6000

6. "Промывка канализационных труб"
   - "Гидродинамическая очистка под высоким давлением."
   - Категория: "дополнительная"
   - Цена: 2500-4000

7. "Диагностика систем"
   - "Видеоинспекция трубопровода для выявления скрытых засоров и повреждений."
   - Категория: "дополнительная"
   - Цена: 0 (бесплатно при заказе откачки)

8. "Установка и ремонт септиков"
   - "Монтаж новых септиков «под ключ»."
   - Категория: "дополнительная"
   - Цена: 15000-50000

9. "Экстренная помощь"
   - "Выезд в течение 30 минут в черте Ярцево (круглосуточно)."
   - Категория: "дополнительная"
   - Цена: 3000-5000